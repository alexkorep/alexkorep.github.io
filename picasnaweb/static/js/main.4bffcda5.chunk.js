(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{132:function(e,t){},133:function(e,t){},178:function(e,t){},179:function(e,t){},180:function(e,t){},181:function(e,t){},184:function(e,t,n){"use strict";n.r(t);var a=n(4),o=n.n(a),c=n(84),r=n.n(c),l=(n(92),n(22)),i=(n(93),n(186)),u=n(86),s=n(45),m=[],d=[],f=document.createElement("canvas");f.width=224,f.height=224,document.body.appendChild(f),f.style.display="none";var h=null,p=[];s.b("jsmodel/model.json").then(function(e){h=e,console.log("Model loaded!")});var g=function(e){m=Object(u.a)(e)},v=function(e,t){!function e(t,n,a){if(a||(a=0,p.length=0),!(a>=m.length)){var o=m[a],c=URL.createObjectURL(o);d.push(c);var r=new Image;r.id="pic",r.src=c,r.onload=function(){f.getContext("2d").drawImage(r,0,0,224,224);var o=s.a.fromPixels(f).expandDims(0).asType("float32").div(256),l=h.predict(o).dataSync(),i=10*function(e){for(var t=0,n=1;n<=10;n++)t+=n*e[n-1];return t}(Array.from(l));if(t(c,a,i),p.length<20||p[p.length-1].score<i){for(p.push({url:c,score:i}),p.sort(function(e,t){return t.score-e.score});p.length>20;)p.pop();n(p)}setTimeout(function(){e(t,n,a+1)},10)}}}(e,t,0)};var w=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),u=Object(l.a)(r,2),s=u[0],m=u[1],d=Object(a.useState)(null),f=Object(l.a)(d,2),h=f[0],p=f[1],w=Object(a.useState)([]),E=Object(l.a)(w,2),b=E[0],j=E[1],y=function(e){var t=e.replace(/^data:image\/[^;]+/,"data:application/octet-stream");window.open(t)};console.log(b);var O=n.length?s/n.length*100:0,S=b.map(function(e){return o.a.createElement("div",{key:e.url},o.a.createElement("img",{src:e.url,width:"320",alt:""}),e.score,"%",o.a.createElement("a",{href:"#",onClick:y.bind(null,e.url)},"Download"),o.a.createElement("a",{href:"{photo.url}",download:"image.jpeg"},"Download"))});return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"offset-md-3 col-md-6"},o.a.createElement("div",{className:"form-group files"},o.a.createElement("label",null,"Select Your Files"),o.a.createElement("input",{type:"file",className:"form-control",multiple:!0,onChange:function(e){for(var t=e.target.files,n=[],a=0;a<t.length;a++)n.push(t[a]);c(n),g(n),v(function(e,t,n){p({url:e,score:n}),m(t)},function(e){j(e)})}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(i.a,{max:"100",color:"success",value:O},Math.round(O,2),"%")),h?o.a.createElement("div",null,o.a.createElement("img",{src:h.url,width:"120",alt:""}),"Score:",h.score,"%"):null,o.a.createElement("div",null,S))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},87:function(e,t,n){e.exports=n(184)},92:function(e,t,n){},93:function(e,t,n){},97:function(e,t){},99:function(e,t){}},[[87,1,2]]]);
//# sourceMappingURL=main.4bffcda5.chunk.js.map